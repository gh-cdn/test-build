/*!  The roject developed by chengpeiquan!  */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7719fec"],{7428:function(e,t,c){},"8d40":function(e,t,c){"use strict";c("7428")},da63:function(e,t,c){"use strict";c.r(t);c("2a26");var n=c("768f"),a=(c("3b18"),c("f64c")),o=c("7a23"),r=c("5502"),l={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},i=l,u=c("b3f0");function s(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(c).filter((function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable})))),n.forEach((function(t){b(e,t,c[t])}))}return e}function b(e,t,c){return t in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}var d=function(e,t){var c=s({},e,t.attrs);return o["createVNode"](u["a"],o["mergeProps"](c,{icon:i}),null)};d.displayName="CaretRightOutlined",d.inheritAttrs=!1;var f=d,O=c("2ef0"),j=Object(o["withScopeId"])("data-v-1b4c198c");Object(o["pushScopeId"])("data-v-1b4c198c");var m={class:"item"},p=Object(o["createVNode"])("span",{class:"text"},"添加",-1),h={key:0,class:"sub-menu setting-menu add"},k={key:1,class:"sub-menu setting-menu add"},v={key:0,class:"item"},x=Object(o["createVNode"])("span",{class:"text"},"移动",-1),N={class:"sub-menu setting-menu move"},C=Object(o["createVNode"])("span",{class:"text"},"重命名",-1),I=Object(o["createVNode"])("span",{class:"text"},"复制",-1),V=Object(o["createVNode"])("span",{class:"text"},"粘贴",-1),g={key:3,class:"item"},B=Object(o["createVNode"])("span",{class:"text"},"删除",-1);Object(o["popScopeId"])();var y=Object(o["defineComponent"])({expose:[],setup:function(e){var t=Object(r["b"])(),c=Object(o["useContext"])(),l=c.expose,i=Object(o["ref"])(!1),u=Object(o["reactive"])({top:0,left:0}),s=Object(o["computed"])((function(){return t.state.chapter.list})),b=Object(o["ref"])(null),d=Object(o["ref"])(!1),y=Object(o["reactive"])({source:"",index:-1,fatherIndex:-1}),w=function(e){var c;switch(e){case"before":c=y.index;break;case"after":c=y.index+1;break;default:c=s.value.length}t.commit("chapter/showSetItemDialog",{mode:"addPlot",source:y.source,title:"新建剧情",placeholder:"请输入剧情名称",index:c,fatherIndex:y.fatherIndex}),i.value=!1},S=function(e){var c;switch(e){case"before":c=y.index;break;case"after":c=y.index+1;break;default:c=s.value.length}t.commit("chapter/showSetItemDialog",{mode:"addChapter",source:y.source,title:"新建章节",placeholder:"请输入章节名称",index:c,fatherIndex:-1}),i.value=!1},P=function(){b.value=Object(O["cloneDeep"])(s.value[y.fatherIndex].plotList[y.index]),a["a"].success("复制成功"),i.value=!1},D=function(){b.value?(t.commit("chapter/pastePlot",{data:b.value,fatherIndex:y.fatherIndex,index:y.index}),a["a"].success("粘贴成功"),i.value=!1):i.value=!1},_=function(){0!=y.index&&(t.commit("chapter/moveItem",{type:0,source:y.source,fatherIndex:y.fatherIndex,index:y.index}),i.value=!1)},L=function(){var e="plot"===y.source,c=e?y.index!=s.value[y.fatherIndex].plotList.length-1:y.index!=s.value.length-1;c?(t.commit("chapter/moveItem",{type:1,source:y.source,fatherIndex:y.fatherIndex,index:y.index}),i.value=!1):i.value=!1},J=function(){t.commit("chapter/removeItem",y);var e="chapter"===y.source?"章节":"剧情";a["a"].success("删除".concat(e,"成功")),i.value=!1},z=function(){var e="chapter"===y.source;t.commit("chapter/showSetItemDialog",{mode:"renameItem",title:"修改".concat(e?"章节":"剧情"),placeholder:"请输入".concat(e?"章节":"剧情","名称"),index:y.index,fatherIndex:e?-1:y.fatherIndex}),i.value=!1};return l({isShowDialog:i,style:u,itemInfo:y,isShowBtn:d}),function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[i.value?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"global__system--transparent-mask",onClick:t[1]||(t[1]=function(e){return i.value=!1}),onContextmenu:t[2]||(t[2]=function(e){e.stopPropagation(),e.preventDefault(),i.value=!1})},null,32)):Object(o["createCommentVNode"])("",!0),i.value?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",{key:1,class:"setting-menu",style:{top:Object(o["unref"])(u).top+"px",left:Object(o["unref"])(u).left+"px"}},[Object(o["createVNode"])("li",m,[p,Object(o["createVNode"])(Object(o["unref"])(f)),"chapter"===Object(o["unref"])(y).source?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",h,[Object(o["createVNode"])("li",{class:"item",onClick:t[3]||(t[3]=function(e){return w("after")})},"剧情"),0!==Object(o["unref"])(y).index||0!==Object(o["unref"])(y).fatherIndex?(Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:0,class:"item",onClick:t[4]||(t[4]=function(e){return S("before")})}," 上方添加章节 ")):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("li",{class:"item",onClick:t[5]||(t[5]=function(e){return S("after")})},"下方添加章节")])):"plot"===Object(o["unref"])(y).source?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",k,[Object(o["unref"])(y).index>0?(Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:0,class:"item",onClick:t[6]||(t[6]=function(e){return w("before")})}," 上方添加剧情 ")):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("li",{class:"item",onClick:t[7]||(t[7]=function(e){return w("after")})},"下方添加剧情")])):Object(o["createCommentVNode"])("",!0)]),d.value&&Object(o["unref"])(y).index>0?(Object(o["openBlock"])(),Object(o["createBlock"])("li",v,[x,Object(o["createVNode"])(Object(o["unref"])(f)),Object(o["createVNode"])("ul",N,[1!==Object(o["unref"])(y).index?(Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:0,class:"item",onClick:_}," 上移 ")):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("li",{class:"item",onClick:L},"下移")])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("li",{class:"item",onClick:z},[C]),d.value&&"chapter"!==Object(o["unref"])(y).source?(Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:1,class:"item",onClick:P},[I])):Object(o["createCommentVNode"])("",!0),d.value&&"chapter"!==Object(o["unref"])(y).source?(Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:2,class:"item",onClick:D},[V])):Object(o["createCommentVNode"])("",!0),Object(o["unref"])(y).index>0?(Object(o["openBlock"])(),Object(o["createBlock"])("li",g,[Object(o["createVNode"])(Object(o["unref"])(n["a"]),{title:"确认删除该".concat("chapter"===Object(o["unref"])(y).source?"章节":"剧情","吗？"),"ok-text":"删除","cancel-text":"取消",onConfirm:J},{default:j((function(){return[B]})),_:1},8,["title"])])):Object(o["createCommentVNode"])("",!0)],4)):Object(o["createCommentVNode"])("",!0)],64)}}});c("8d40");y.__scopeId="data-v-1b4c198c";t["default"]=y}}]);