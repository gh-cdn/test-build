/*!  The roject developed by chengpeiquan!  */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f14e4aa0"],{"5e53":function(e,t,n){"use strict";var o=n("f3f3"),a=n("c964"),r=(n("96cf"),n("d81d"),n("d0ff")),i=(n("d3b7"),n("159b"),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise((function(o){setTimeout((function(){if(t){var n=document.querySelectorAll(e),a=Object(r["a"])(n),i=[];a.forEach((function(e,t){var n="";t<a.length-1&&(n=a[t+1].getAttribute("id")||"");var o=e.innerHTML;i.push({id:e.getAttribute("id")||"",nextPlotId:n,template:o})})),o(i)}else{var c=document.querySelector(e),u={id:c?c.getAttribute("id"):"",nextPlotId:"",template:c?c.innerHTML:""};o(u)}}),n)}))}),c=i,u=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c(".render-canvas-plot",!0);case 2:if(t=e.sent,Array.isArray(t)){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",t.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{extraInfo:{autoPlayConfig:{isOpen:!1,animation:"",nextPlotId:"",sceneRange:"",timeout:0},quickDialogueConfigList:[]}})})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t["a"]=u},a32d:function(e,t,n){"use strict";n.r(t);var o=n("f3f3"),a=n("d0ff"),r=n("c964"),i=(n("99af"),n("c740"),n("caad"),n("2532"),n("159b"),n("96cf"),n("7a23")),c=n("5502"),u=n("2ef0"),s=n("88ed"),f=n("5e53"),p=Object(i["defineComponent"])({expose:[],setup:function(e){var t=Object(i["useContext"])(),n=t.expose,p=Object(i["ref"])(!1),l=Object(c["b"])(),d=Object(i["computed"])((function(){return l.state.chapter.list})),v=Object(i["computed"])((function(){return l.state.editorInfo.canvasnSize})),g=Object(i["reactive"])({url:"/preview/index.html",dom:null,window:null,preset:{screenMode:"landscape",plotList:[]}}),m=Object(i["toRef"])(g,"dom"),b=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["a"])();case 2:g.preset.plotList=e.sent,w();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){p.value=!0,setTimeout((function(){h()}),10)},h=function(){m.value&&(g.window=g.dom.contentWindow,setTimeout((function(){x()}),1e3))},x=function(){var e=Object(u["cloneDeep"])(g.preset);g.window.postMessage(e,"*")},O=function(e,t,n){n||(n={}),j(e,t,n);var o=n,a=o.id,r=e.component,i=e.eventList,c=e.id;e.propValue;if("v-image-options"===r||"v-text-options"===r)return"__APP__.selectOption(window.event, '".concat(JSON.stringify(i),"')");if("v-quick-dialogue"===r)return"__APP__.changeQuickDialogue(window.event, '".concat(c,"', '").concat(a,"')");if(i.length>0){var u=i[0].target;return"__APP__.changePlot('".concat(u,"', '").concat(JSON.stringify(i[0]),"')")}},j=function(e,t,n){var r=n.id,i=e.component,c=e.id,u=e.propValue,s=g.preset.plotList.findIndex((function(e){return e.template.includes(c)}));if(-1!==s&&(function(){var e=[],n=t.componentData;n.forEach((function(t){e=[].concat(Object(a["a"])(e),Object(a["a"])(t.eventList))})),0===e.length&&(g.preset.plotList[s].extraInfo.autoPlayConfig=Object(o["a"])({nextPlotId:r},t.autoPlayConfig)),"v-text-options"!==i&&"v-image-options"!==i||(g.preset.plotList[s].extraInfo.autoPlayConfig=Object(o["a"])({nextPlotId:r},u.autoPlayConfig))}(),"v-quick-dialogue"===i)){var f=Object(o["a"])({id:c},u);g.preset.plotList[s].extraInfo.quickDialogueConfigList.push(f)}};return n({getCanvasData:b}),{expose:n,isShowDialog:p,store:l,chapterList:d,canvasnSize:v,iframe:g,iframeDom:m,getCanvasData:b,showDialog:w,getIframe:h,setIframeContent:x,getEvent:O,getExtraInfo:j,computed:i["computed"],reactive:i["reactive"],ref:i["ref"],toRef:i["toRef"],useContext:i["useContext"],watchEffect:i["watchEffect"],useStore:c["b"],cloneDeep:u["cloneDeep"],getStyle:s["f"],getComponentStyle:s["d"],getShapeStyle:s["e"],bindClassList:s["a"],renderCanvas:f["a"]}}});n("bac1");p.__scopeId="data-v-2017a4b4";t["default"]=p},bac1:function(e,t,n){"use strict";n("f524")},f524:function(e,t,n){}}]);