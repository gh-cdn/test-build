/*!  The roject developed by chengpeiquan!  */(function(e){function t(t){for(var o,a,c=t[0],s=t[1],l=t[2],u=0,p=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r={app:0},i=[];function c(e){return s.p+"static/js/"+({home:"home"}[e]||e)+"."+{home:"3fbd16db"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={home:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="static/css/"+({home:"home"}[e]||e)+"."+{home:"ab47c9d5"}[e]+".css",r=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var l=i[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===r))return t()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){l=p[c],u=l.getAttribute("data-href");if(u===o||u===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[e],d.parentNode.removeChild(d),n(i)},d.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){a[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(e);var p=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",p.name="ChunkLoadError",p.type=o,p.request=a,n[1](p)}r[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/test-build/",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"20fe":function(e,t,n){},"3c77":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUuLjHf4N8zNDYwMDM9PUDS09PZ2tnd3t1/gIFRUVMyMjV8fX1GRkjb3NvGx8eur6+rrKyMjY5hYmRUVVZNTU9DQ0U7Oz04ODs2NjnP0M/JycnCw8Ooqamio6OXmJmTlJVzc3VmZmhcXF5XV1lKSk1AQEPV1tW8vb26u7qzs7Odnp6ZmpqKiouJiYuHiIh5eXttbW/Y2djExcSlpqaRkZK+v7+0tbWDhIWR03yQAAABa0lEQVRIx+2U23KCMBRFORAlIojIvYoi4h3x2vb//6y0TIutSXMmb86w3phhzSZkz1ZaWlRzKe0GdLXJZWV3AOe+JueSAwBMetLBAHHfkA2Wjl4MvuSOTDQpoGbYkwuWjY4cAOlo8wVANjqiALLRalYFN9FOiLI04o2Os+H4DPdYF3tP566vcr2gsiavcRd46J2xPaXzJctdA46x9yh7gGXEOO0U6V5Z363tUW7CHhd1hnB3hHe7jtCdBvxulAL3Fv7XLKoDH13QNKNv8d1ZJOpnyquY5RBxu49su1sQzP7YTHnjocZry5TXHnJDWMQZavk4Zz6piDk4ARsaiGWj5DXTR8xXwpHtHLGbG96CIDbUj+9mc7vWm4eRJpRd6+ftfU8J6eVb19MI/bM7O7f+kvcB1JRE+L8O9a0OF01riro2O18oXz9V+/f58mQFAG+5UL6BtZ2rfw+TTVaQmIqIMK3UR4wsNZWWlifiA+oQF1ybPOceAAAAAElFTkSuQmCC"},"48d5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAbFBMVEUuLjHf4N96enxJSUzZ2tnd3t2+v7/W19Y3Nzq9vb09PUDU1dQzMzZhYWOxsrLNzs1TU1VNTlBDQ0XJysm6u7tdXWBZWVuhoqKTlJVsbW5paWvGx8apqqqLjI14eHnDxMO3t7iFhoaAgIJxcnMvHajSAAABUElEQVRIx+3W7ZKCIBSA4Y5wCBX8/kjN2ur+73EZnc1VtgSarT++P2meUbHo7La2bCLy5K10alPxF83qEAzaHxOdkzMYFpdLLSJQ0dVAxbIFlmrRl2S1MkIAb4FrAKx2BqW5uvRijQGEgQnmPsL+nZiXNxk4YhJRACaFCw4OCCqWuGBZwJDHHXDTjbgP3nJl/Zn9xHm3sShXd1ukSaBrXjUlX3vPoi0o5hfu8g0TPYKKRsQaKwtjyCpbLBqEH51XlpjEcA+LmRapTJ5uWFbDr/ArmWgV7dXCkx9GfKMw0/ddC675ePQ14uGVl+cnPY4vPDuEMBa34gHWCw98sNMd5akxhvii7rkPYSpKjTF0rfDi2coxN8ZYXPVPTDEgojtW/TP2X8HdK/j8sWeubTDT/twt8vSxwjiWaSdzZzHQuI5SdBil9Ei7PsQ1aojb2jLvG2seFkKrIIQxAAAAAElFTkSuQmCC"},"585b":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAY1BMVEUuLjHf4N+5urkzMzXJysnFxsWhoaKRkZNoaGrBwsF4eHk2NjnHyMjW19ZsbG5WVlmcnZ1/gIFeX2BAQEKWlpeKi4xMTE7R0tKwsbGFhYdFRUc6Oj3a29q8vb2kpaVwcXJTU1VBf5IUAAAA8klEQVRIx+3VyW6EMBBF0VfNaANmMEMDPf3/VwZZWFFE3FYKKVIU35VrcYSpjREK/VLPy9vuWeG2knw1blx6cRk5cezFScB/BmOttzQPL4K2ppaDRbcfXpwvF5kQoiIa2AtLibKAA/45FmdwV/lwCyfGmCulYrIJmX+txgG7Ln9dcciDI4sfBdi4icDGPcDGgx07aVKLnedhEO/xbKec9qrerKDdR+XACZH87sm+akBX+9m1zGZ6fg7FnJoum7gveBFVTd9Ll0WkcczcNxlHohKM5I0obm9UFhytzP8yMbrpBEYdn8AYE6IG3PQjXRH6h30AEyYOl97hlu0AAAAASUVORK5CYII="},"58c2":function(e,t,n){},"5c8a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAANlBMVEUuLjHf4N+Gh4hRUVSioqOPj5HMzcyrrKyJiotgYWKcnJ02NjlMTE5CQkXa29rAwcB2d3hxcnMWk24+AAAAjElEQVRIx+3WSwrAIAxFUWNa//az/80WnBUiPCxChdxxDtLGgUbT8KIjKBcF3CykBUxwK2HPmf0g9m3Gj2FuMzyGc5vJ80/Gvxn/2+tdkpnYGiir+IXvg8SOCOCNOu2zcejhC8CmsFj596pK2sRSBXCiTuHTqmafXMMuFuqvV6UYxe60UKf79ojTNLgHXcwHCNkiRIUAAAAASUVORK5CYII="},7377:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUuLjHf4N81NTjd3t2ysrLZ2toyMzXOz87b3NtDQ0U+PkHc3dzS09KAgYJkZWZKS005OTzX2NfU1dTKysq+v7+1trafoKA8PD+4ublxcnNfX2FZWlytra6qq6uio6OXmJmSk5ONjY5qa2xVVldQUFIwMDPCwsKnp6ibm5yKiouGhoh6ent2d3hnZ2lNTU9HR0rGx8bExMSur6+Xl5hsbW5dXV+lpqaHiIhAIrxnAAABtElEQVRIx+3V15qCMBBA4QmhKkovgr33srq77/9mK+OnAQ1q2FvPLf5ezCQAnz5Vyoqq21QLKutvk5DYqGabLjnn7ypZhWAHC1RhPPLIJW8jt8RHfSDXlLWwNvybpithXYuZbgjrqE1vfCGsNwyTvui6zEyZwy7q3kTEDp3MaCmoIepQYOEtBe0IANQe6pn0JlUb9WzK/hawAf6TbExUyTa2Y6smTZ7YJc1sfDvaS9TBadHxNddxvVlTLbUD3G6Qu1QN1Kx62eqlPj6Wa5Br5RS1M+Zae462E91N0C3qOdfiXvWuDXedzALWIs6RnqENOXtpajSvk0f7hbfwyB1mUtC/D9c4wDkfJX6JlsMdxvIb0eWS2h4+poinKnNsIy9Swhi1yVbJNvLK9sEIMq1bnNtkPrcDHGt29FPgb6TcLiEr6pz1hvux8GipbdyOkk7W/Lf2vkQ77PfSXB8At/GUq90WsNReCPy2Pkebw+LFTaGkXXyvqdaEdzNkemcTkS9Gu563Xgoi2T86s/sRiCWFV02nYzGK21Au1rdAvElfYa9R8RYKobKwZa+Hdg0ql9jw6dM/+wNKqRlMwflT2gAAAABJRU5ErkJggg=="},"85a7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAVFBMVEUuLjHf4N80NDepqqrGx8c4ODvNzs3CwsO6u7qWlpdCQ0bY2dhsbW7U1NSrrKvc3dyfoKBYWFrFxsaztLSXl5iSk5OCg4RoaGpRUVQ8PD9wcHJfX2EDyDQJAAAAxklEQVRIx+3WyQ7CIBRAUS5Yh1aG2ln//z9dWWMCvrZxYRPOCgg3IWxAZdkqY99evmr7MZEWwSPyoYjGgUVCrK2B6iiogDoSd2DrQlBb6CKxg5tWAn0DF1k3cJDjA5i/jKfhOrvf3+NhkmPdkNBoMS49Cb6Uj93Z6sWDnye2W3Jh5ayB5j1bedvmY2eOc5zjPccO3Oa4h35zrIZhNy+GHP/6iW3BjlowWmgT3wp7EtjEt0IZFjEqZnKL2knFPcJZEB4qy9Z4AkpoEFSAuxeeAAAAAElFTkSuQmCC"},abb0:function(e,t,n){},b440:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAclBMVEUuLjHf4N/Z2tpKS0zd3t2Oj4/T1NNUVFZlZWeysrKYmZkyMjW+v79iYmROT1FISEswMDPBwsFxcnO1trbV1tWrrKuoqalZWVs/P0E4ODu5urmur690dHa4uLmbm5yMjI2HiIiBgoN5eXpgYGPCw8JxcnKFbkSTAAABcklEQVRIx+2WyXKDMBBEPWKwFnaMDd635P9/MZUqpSQRaQTFIYfwjm43g0bNSJuV/01dibRhrElFVc+08jRnoGF5ymdYC4nggLKYaE0O4OGQTPG2W/CyvcS9KQRJY14FBGpWXcQZtVtnkUqUpVBOC1qiz/YfZaJ/lPYDwz3fg2F33GiOOzDsg9lAu4T/hTCUFhlqrAKDDOQZwSBsRYABeXSbsLSVEmPbleXTzHnmMVcMiNc2sMpjFmBzs6WbI4loMjt7q7poRj/A4WqHxKHxmBm47ErdrZEXGGnWoOJZxhXCBHMzsp4vfKjrgV/OI3sebZjsjdJLomGeDD4yJz8Pu3hBhwRfY/GFVkjoeN5/q3c6nmbRV4+cncySqU8S3z71/aNychicvGKtS0t6DD396lOPIXIAYu8Xe9QDkBq93eAXh07PRWrob3nihX8/+TNy3CALgADpkoNuyRG74HBvF18r4hRn4kIz/yq15BK3svInfAH+9w+iDK+opgAAAABJRU5ErkJggg=="},ca66:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAeFBMVEUuLjHf4N+tra5qamza29pHR0nCw8Jvb3EzMzZ8fX6srK03Nzp/f4E9PUCpqqpPT1G/wMCmp6eFhYZnZ2lhYWNKSk0zNDUxMTTU1dTFxsW5ubqztLSwsbF3d3hXV1nc3dzOz86hoaKZmpqSk5NwcHJlZmdbW11CQkTZ99aOAAAA3ElEQVRIx+3Vyw6CQAxA0XYEHWZAHoKoIL71//9Q0giBBYuWjdG5+5Om3RRcrm9om+el1EYVYmqF9oBtayu1Um1tjVLtJ6E2Qu0vEcNtrzXTtgX97CPTku5mZ0xLffb2Yr7tdSCxpJXQko42YoteMcPeZ9iVsz9k7QyrbSi28FA6kFq4IWmRLRMkLbEQe0haYoEUab4FhZ3m22iHvd4xLWywq4oKYHbt7P4Sc63et+50NkFcAruGbpyYNDVGKZXTJmpUNomfNVLDn5bhKAWTvRbDfGgrFqMacLn+oTfIbgsVkXpJMwAAAABJRU5ErkJggg=="},cd49:function(e,t,n){"use strict";n.r(t);var o=n("d0ff"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),r=(n("b0c0"),n("6c02")),i=Object(a["j"])({expose:[],setup:function(e){var t=Object(r["c"])(),n=Object(a["f"])((function(){return t.name?t.name+new Date:t.path+new Date}));return function(e,t){var o=Object(a["x"])("router-view");return Object(a["t"])(),Object(a["h"])(o,{key:Object(a["z"])(n)})}}}),c=i,s=(n("d3b7"),n("3ca3"),n("ddb0"),[{path:"/",name:"home",component:function(){return n.e("home").then(n.bind(null,"864c"))}}]),l=s,u=Object(r["a"])({history:Object(r["b"])(),routes:l}),p=u,d=n("c964"),f=(n("d81d"),n("caad"),n("2532"),n("96cf"),n("5502")),h=n("2ef0"),m=n("a002"),A=n.n(m),g=!1,v=g,b={publicPath:v?"/":"/editor/",storageKeyPrefix:"drama_editor",bgZIndex:-999999,canvasWidth:375,canvasHeight:667};A.a.config({name:b.storageKeyPrefix});for(var y=A.a,w=(n("a434"),n("c740"),n("7db0"),n("159b"),function(e,t,n){if(!Array.isArray(e))return[];("number"!==typeof n||n<0||n>e.length-1)&&(n=e.length);var a=Object(o["a"])(e);return a.splice(n,0,t),a}),I=w,x=function(e,t){var n=e[t];return e[t]=e[t-1],e[t-1]=n,e},O=function(e,t){var n=e[t];return e[t]=e[t+1],e[t+1]=n,e},j=(n("99af"),n("ec26")),k=function(e){return"".concat(e,"-").concat(Object(j["a"])())},C=k,P={namespaced:!0,state:function(){return{isOpen:!1,setItemDialog:{isShow:!1,source:"",mode:"",title:"",placeholder:"",index:-1,fatherIndex:-1},list:[]}},mutations:{switchOpenStatus:function(e,t){e.isOpen=t},showSetItemDialog:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"isShow"!==n&&(e.setItemDialog[n]=t[n]);e.setItemDialog.isShow=!0},hideSetItemDialog:function(e){e.setItemDialog={isShow:!1,source:"",mode:"",title:"",placeholder:"",index:-1,fatherIndex:-1}},addChapter:function(e,t){var n={id:C("chapter"),title:t,isShowPlotList:!0,plotList:[]},o=e.setItemDialog.index;o>-1?e.list=I(e.list,n,o):e.list.push(n)},addPlot:function(e,t){var n={id:C("plot"),chapterId:"",title:t,cover:"",componentData:[],treeChildList:[],autoPlayConfig:{isOpen:!1,animation:"none",sceneRange:"thisPlot",timeout:5}},o=e.setItemDialog,a=o.source,r=o.index,i=o.fatherIndex;if(n.chapterId=e.list[i].id,"plot"===a&&r>-1){var c=e.list[i].plotList;e.list[i].plotList=I(c,n,r)}else e.list[i].plotList.push(n)},pastePlot:function(e,t){if(t.data){t.data.id=C("plot");var n=e.list[t.fatherIndex].plotList;e.list[t.fatherIndex].plotList=I(n,t.data,t.index+1)}},removeItem:function(e,t){var n=t.source,o=t.index,a=t.fatherIndex,r=void 0===a?-1:a;switch(n){case"chapter":e.list.splice(o,1);break;case"plot":e.list[r].plotList.splice(o,1);break}},renameItem:function(e,t){var n=e.setItemDialog,o=n.fatherIndex,a=n.index;-1===o?e.list[a].title=t:e.list[o].plotList[a].title=t},moveItem:function(e,t){var n="plot"===t.source?t.index:t.fatherIndex,o="plot"===t.source?e.list[t.fatherIndex].plotList:e.list;t.type?e.list[t.fatherIndex].plotList=O(o,n):e.list[t.fatherIndex].plotList=x(o,n)},updateTreeChild:function(e,t){var n=t.type,o=t.childInfo,a=o.source,r=a.chapterId,i=a.plotId,c=a.eventId,s=e.list,l=s.findIndex((function(e){return e.id===r}));if(-1===l)return!1;var u=s[l].plotList,p=u.findIndex((function(e){return e.id===i}));if(-1===p)return!1;var d=u[p].treeChildList,f=d.findIndex((function(e){return e.source.eventId===c}));switch(n){case"add":if(-1===f)return d.push(o),!1;d[f]=o;break;case"remove":f>-1&&d.splice(f,1);break}},updatePlotCover:function(e,t){var n=t.chapterIndex,o=t.plotIndex,a=t.cover;try{e.list[n].plotList[o].cover=a}catch(r){console.log(r)}},updateAutoPlayConfig:function(e,t){var n=t.plotId,o=t.chapterId,a=t.autoPlayConfig,r=e.list.find((function(e){return e.id===o}));if(r)if("thisPlot"===a.sceneRange){var i=r.plotList.find((function(e){return e.id===n}));if(!i)return;i.autoPlayConfig=a}else"thisChapter"===a.sceneRange&&r.plotList.forEach((function(e){e.autoPlayConfig=a}))}}},D=P,N=n("f3f3"),V={top:0,left:0,rotate:0,opacity:1,borderRadius:0,zIndex:0},S={animations:[],eventList:[],classList:["animate__animated"],groupStyle:{},isLock:!1},E=[{elementInfo:{category:"picture",label:"背景",icon:n("7377")},component:"v-bg",propValue:"",style:{width:"100%",height:"100%"}},{elementInfo:{category:"picture",label:"头像",icon:n("b440")},component:"v-avatar",propValue:"",style:{width:120,height:120}},{elementInfo:{category:"picture",label:"道具",icon:n("3c77")},component:"v-props",propValue:"",style:{width:80,height:80}},{elementInfo:{category:"picture",label:"立绘",icon:n("ca66")},component:"v-role",propValue:"",style:{width:150,height:250}},{elementInfo:{category:"text",label:"文本选项",icon:n("85a7")},component:"v-text-options",propValue:"",style:{width:300,height:"auto"}},{elementInfo:{category:"text",label:"图片选项",icon:n("48d5")},component:"v-image-options",propValue:[],style:{width:300,height:"auto"}},{elementInfo:{category:"text",label:"对话框",icon:n("5c8a")},component:"v-normal-dialogue",propValue:"",style:{width:300,height:"auto"}},{elementInfo:{category:"text",label:"快捷对话",icon:n("585b")},component:"v-quick-dialogue",propValue:"",style:{width:"100%",height:"100%"}}],R=0,L=E.length;R<L;R++){var K=E[R];K.id="",K.style=Object(N["a"])(Object(N["a"])({},V),K.style),E[R]=Object(N["a"])(Object(N["a"])({},S),K)}var W=["VBg","VAvatar","VProps","VRole","VTextOptions","VImageOptions","VNormalDialogue","VQuickDialogue"],B=E,T=(n("b64b"),n("a15b"),n("a630"),n("6062"),n("2ca0"),n("5319"),n("ac1f"),n("a9e3"),Object(a["f"])((function(){return ue.state.editorInfo.canvasnSize})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=-1;switch(e){case"type":n=t.findIndex((function(e){return e.startsWith("animate__")&&!e.startsWith("animate__delay")&&!e.startsWith("animate__duration")&&"animate__animated"!==e}));break;case"delay":n=t.findIndex((function(e){return e.startsWith("animate__delay")&&"animate__animated"!==e}));break;case"duration":n=t.findIndex((function(e){return e.startsWith("animate__duration")&&"animate__animated"!==e}));break}return n}),U={namespaced:!0,state:function(){return{chapterInfo:{id:null,title:""},plotInfo:{id:null,title:""},componentData:[],curComponent:null,curComponentIndex:null,isClickComponent:!1}},mutations:{setPlotInfo:function(e,t){var n=t.plot,o=t.chapter;e.plotInfo.id=n.id,e.plotInfo.title=n.title,e.chapterInfo.id=o.id,e.chapterInfo.title=o.title},setComponentData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.componentData=t},addComponent:function(e,t){var n=t.component,o=t.index;void 0!==o?e.componentData.splice(o,0,n):e.componentData.push(n)},deleteComponent:function(e,t){void 0===t&&(t=e.curComponentIndex),e.componentData.splice(t,1)},updateComponent:function(e,t){var n=t.target,o=t.newInfo,a=n.id,r=e.componentData.findIndex((function(e){return e.id===a}));if(-1!==r){var i=o.type,c=o.value;switch(i){case"label":e.componentData[r].elementInfo.label=c;break;case"propValue":e.componentData[r].propValue=c;break;case"classList":var s="",l=-1,u=e.componentData[r].classList,p=c.key,d=c.newValue;switch(p){case"type":l=T(p,u),s=d;break;case"delay":l=T(p,u),s="animate__delay-".concat(d||0,"s");break;case"duration":l=T(p,u),s="animate__duration-".concat(d||1,"s");break}-1!==l&&u.splice(l,1),u.push(s);break;case"style":for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(e.componentData[r].style[f]=c[f]);break}}},setClickComponentStatus:function(e,t){e.isClickComponent=t},setCurComponent:function(e,t){var n=t.component,o=t.index;e.curComponent=n,e.curComponentIndex=o},setShapeStyle:function(e,t){var n=t.top,o=t.left,a=t.width,r=t.height,i=t.rotate;n&&(e.curComponent.style.top=n),o&&(e.curComponent.style.left=o),a&&(e.curComponent.style.width=a),r&&(e.curComponent.style.height=r),i&&(e.curComponent.style.rotate=i)}},actions:{receiveComponent:function(e,t){var n=e.state,o=e.commit,a=t.componentTag,r=t.propValue;n.index>=0&&(n.index--,o("setComponentData",Object(h["cloneDeep"])(n.data[n.index])));var i=B.find((function(e){return e.component===a})),c=Object(h["cloneDeep"])(i);if(!c)throw new Error('The component tag was not found, please check the tag name at the file "src/components/editor/element/ElementLibrary.vue", about "store.dispatch(\'canvas/receiveComponent\'...)"');c.id=C("cp"),r&&(c.propValue=r),o("addComponent",{component:c})}}},M=U,F={namespaced:!0,state:function(){return{component:"v-prop-default",data:{plot:{},element:{}}}},mutations:{changePanel:function(e,t){var n=t.type,o=t.data;e.component="v-prop-".concat(n),"plot"===n?(e.data.plot=o,e.data.plot=o):e.data.element=o},bindPlot:function(e,t){console.log(t)}}},q=F,X=n("bc3a"),Z=n.n(X),Y={headers:{"Content-Type":"application/json; charset=UTF-8"},responseType:"json",timeout:window.location.host.includes("localhost")?1e3:2e4,withCredentials:!1,validateStatus:function(e){return e>=200&&e<500}},z=Y,G=n("0122"),J=n("276c"),Q=n("e954"),H=function(){function e(t){Object(J["a"])(this,e),this.prefix=t}return Object(Q["a"])(e,[{key:"get",value:function(e){var t="".concat(this.prefix,"_").concat(e),n=window.localStorage.getItem(t);try{var o=JSON.parse(n);return o}catch(r){if("true"===n)return!0;if("false"===n)return!1;var a=Number(n);return isNaN(a)?n:a}}},{key:"set",value:function(e,t){var n="".concat(this.prefix,"_").concat(e),o="object"===Object(G["a"])(t)?JSON.stringify(t):t;window.localStorage.setItem(n,o)}},{key:"remove",value:function(e){var t="".concat(this.prefix,"_").concat(e);window.localStorage.removeItem(t)}},{key:"clear",value:function(){window.localStorage.clear()}}]),e}(),_=new H(b.storageKeyPrefix),$=_,ee=function(){function e(){Object(J["a"])(this,e),this.hostName=window.location.hostname||"",this.isDev=!1,this.isRe=!1,this.isPro=!1}return Object(Q["a"])(e,[{key:"init",value:function(){this.hostName.includes("rcsdev.tinytiger")?(this.isDev=!0,this.isRe=!1,this.isPro=!1):this.hostName.includes("5gre.northrex")?(this.isDev=!1,this.isRe=!0,this.isPro=!1):this.hostName.includes("www.northrex")?(this.isDev=!1,this.isRe=!1,this.isPro=!0):(this.isDev=!0,this.isRe=!1,this.isPro=!1)}}]),e}(),te=new ee;te.init();var ne=te,oe=(n("3b18"),n("f64c"));oe["a"].config({duration:1,maxCount:1});var ae=oe["a"],re=Z.a.create(z);re.interceptors.request.use((function(e){if(v&&e.url&&!e.url.includes("http")){var t="/devapi";e.url.includes(t)||(e.url=t+e.url)}v||(ne.isRe&&(e.url="https://rcsreapi.tinytiger.cn"+e.url),ne.isPro&&(e.url="https://rcsapi.northrex.cn"+e.url));var n=$.get("token")||"";return n&&(e.headers["token"]=n),Promise.resolve(e)}),(function(e){return Promise.reject(e)})),re.interceptors.response.use((function(e){if(null===e.data&&"json"===e.config.responseType&&null!==e.request.responseText)try{e.data=JSON.parse(e.request.responseText)}catch(t){console.log(t)}if(1===e.data.code&&401===e.data.data){ae.error(e.data.msg);try{p.push({name:"login"})}catch(t){console.log(t)}}return Promise.resolve(e.data)}),(function(e){return Promise.reject("网络异常")}));var ie=re;ie.interceptors.request.use(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=$.get("token_expired_timestamp")||0,o=Date.now(),n-o,!!$.get("token"),!!n,t.url||"",e.abrupt("return",Promise.resolve(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ce=ie,se={namespaced:!0,state:function(){return{list:[],roleList:["默认","+ 新增角色名称"]}},mutations:{resetList:function(e){e.list=[],e.roleList=["默认","+ 新增角色名称"]},loadList:function(e,t){e.list.length=0,t.forEach((function(t){e.list.push(t)}))},addDialogue:function(e){var t={id:C("dialogue"),isOpened:!0,styleType:"default",positionType:"left",dubbingId:"",roleName:"默认",pic:"",content:""};e.list.push(t)},removeDialogue:function(e,t){e.list.splice(t,1)},toggleDialogue:function(e,t){return 0!==e.list.length&&("open"===t||"close"===t?(e.list.forEach((function(e){e.isOpened="open"===t})),!1):void(e.list[t].isOpened=!e.list[t].isOpened))},updateDialogue:function(e,t){var n=t.index,o=t.key,a=t.newValue;e.list[n][o]=a},addRoleName:function(e,t){var n=e.roleList.length-1;e.roleList.splice(n,0,t)}},actions:{getRoleList:function(e,t){e.state;var n=e.commit;ce({method:"get",url:"/interact/works/role/".concat(t)}).then((function(e){var t=e.code,o=e.msg||"";if(0!==t)return ae.error(o),!1;var a=e.data;a.forEach((function(e){n("addRoleName",e.roleName)}))})).catch((function(e){ae.error(e)}))},addRole:function(e,t){var n=e.commit,o=t.editorId,a=t.roleName;return new Promise((function(e){ce({method:"post",url:"/interact/works/role",data:{name:a,workId:o}}).then((function(t){var o=t.code,r=t.msg||"";if(0!==o)return ae.error(r),e(!1),!1;n("addRoleName",a),e(!0)})).catch((function(t){ae.error(t),e(!1)}))}))}}},le=se,ue=Object(f["a"])({state:{editorInfo:{id:0,title:"",type:"",mode:"",count:0,cover:"",createTime:"",publishState:"",canvasnSize:{width:0,height:0}}},mutations:{resetState:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},restoreState:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&"editorInfo"!==n&&(e[n]=t[n])},setEditorInfo:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e.editorInfo[n]=t[n])}},actions:{reset:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,o=e.commit,t.next=3,y.getItem("initial_state");case 3:a=t.sent,a&&0!==n.editorInfo.id||(a=Object(h["cloneDeep"])(n),y.setItem("initial_state",a)),o("resetState",a);case 6:case"end":return t.stop()}}),t)})))()},restore:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function n(){var o,a,r,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,a=t.editorId,r=t.chapterList,n.next=4,y.getItem("id_".concat(a));case 4:if(i=n.sent,i){n.next=9;break}return n.next=8,y.getItem("initial_state");case 8:i=n.sent;case 9:r||(r=[]),c=r.map((function(e){var t={id:e.chapterNo,title:e.chapterName,isShowPlotList:!0,plotList:[]};return t.plotList=e.plotList.map((function(t){return{id:t.no,chapterId:e.chapterNo,title:t.name,cover:t.cover,componentData:JSON.parse(t.componentData),treeChildList:JSON.parse(t.treeChildList),autoPlayConfig:JSON.parse(t.autoPlayConfig)}})),t})),window.location.host.includes("localhost")||(i["chapter"]["list"]=c),setTimeout((function(){o("restoreState",i)}),10);case 13:case"end":return n.stop()}}),n)})))()}},modules:{chapter:D,canvas:M,property:q,dialogue:le}}),pe=["VPropDefault","VPropPlot","VPropImg","VPropTextOptions","VPropImageOptions","VPropOptions","VPropNormalDialogue","VPropQuickDialogue"],de=(n("58c2"),n("f8c7"),n("20fe"),n("abb0"),Object(a["g"])(c));Object(o["a"])(W),Object(o["a"])(pe);de.use(ue).use(p).mount("#app")},f8c7:function(e,t,n){}});